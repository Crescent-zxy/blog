# JS 运算符

### number 运算

* 加减乘除 \+ - * /

* 余数 x % 7

  ```javascript
  -1 % 7
  // -1
  // 正确为6，JS有错误
  ```

* 指数 x**3

* 自增自减 x++ / ++x / x-- / --x

* 求值运算符 +x

* 负数运算符 -x

### string 运算符

* 连接运算 '123' + '456'

### 比较运算符

* \>

* \<

* \>=

* <=

* == （不要使用，会进行类型转换）

  []、'0'、'\t' 分别和 0 相等，但三个之间互不相等

* !=
* ===
  * 基本类型看值是否相等
  * 对象看地址是否相等
  * NaN !== NaN
* !==

### 布尔运算符

* ||
* &&
* !

###### 短路逻辑

* console && console.log && console.log("hi")
* 最新语法（可选链语法）： console?.log?("hi")
* 防止console 不存在报错
* a = a || 100，保底值，5个falsy值都会被影响
* 新语法：形参赋初始值，空字符串不会被影响

### 二进制运算符

只对二进制数有效

* 或：|，两个位有一个位为1就为1
* 与：&
* 否：~
* 异或：^，两个位相同为0，不同为1
* 左移：<<
* 右移：\>>
* 头部补零的右移：\>>>

### 技巧

* ##### 与运算符判断奇偶

  * 偶数 & 1 = 0
  * 奇数 & 1 = 1

* ##### 使用 ~，>>，<<，>>>，| 取整

  位运算会消除小数

  * ~~ 6.38
  * 6.38 >> 0
  * 6.38 << 0
  * 6.38 | 0，两个位都为0，则为0，否则为1
  * 6.38 >>> 0

* 用 ^ 交换 a b 的值

  ```javascript
  let a = 5
  let b = 8
  a ^= b
  b ^= a
  a ^= b
  // a: 8
  // b: 5
  ---- 最新语法 ----
  [a,b] = [b,a]
  ```

### 点运算符

###### 语法

对象.属性名 = 属性值

###### 作用

读取对象属性值

###### 要点

* 只能用在对象上

* 点前面不是对象的会封装成对象：

  * number 会变成 Number 对象
  * string 会变成 String 对象
  * bool 会变成 Boolean 对象

  每次都创建一个一次性对象

### void 运算符

###### 语法

void 表达式或语句

###### 作用

* 求表达式的值，或执行语句
* void 的值总是为 undefined

###### 使用

阻止默认动作

```html
<a onclick="return false"></a>
<a href="javascript: void;"></a>
<a href="javascript: ;"></a>
```

### 逗号运算符

###### 语法

表达式1，表达式2，...，表达式n

###### 作用

将表达式 n 的值作为整体的值

###### 使用

```javascript
let a = (1,2,3,4,5)
// a => 5
let f = (x) => (console.log('hi'), x*x)
```

